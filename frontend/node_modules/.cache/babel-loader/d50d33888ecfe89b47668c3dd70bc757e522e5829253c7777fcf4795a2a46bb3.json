{"ast":null,"code":"/**\n * Copyright 2023 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { defer, from, throwIfEmpty } from '../../../third_party/rxjs/rxjs.js';\nimport { Locator } from './locators.js';\n/**\n * @internal\n */\nexport class FunctionLocator extends Locator {\n  static create(pageOrFrame, func) {\n    return new FunctionLocator(pageOrFrame, func).setTimeout('getDefaultTimeout' in pageOrFrame ? pageOrFrame.getDefaultTimeout() : pageOrFrame.page().getDefaultTimeout());\n  }\n  #pageOrFrame;\n  #func;\n  constructor(pageOrFrame, func) {\n    super();\n    this.#pageOrFrame = pageOrFrame;\n    this.#func = func;\n  }\n  _clone() {\n    return new FunctionLocator(this.#pageOrFrame, this.#func);\n  }\n  _wait(options) {\n    const signal = options?.signal;\n    return defer(() => {\n      return from(this.#pageOrFrame.waitForFunction(this.#func, {\n        timeout: this.timeout,\n        signal\n      }));\n    }).pipe(throwIfEmpty());\n  }\n}","map":{"version":3,"names":["defer","from","throwIfEmpty","Locator","FunctionLocator","create","pageOrFrame","func","setTimeout","getDefaultTimeout","page","constructor","_clone","_wait","options","signal","waitForFunction","timeout","pipe"],"sources":["/home/adityasinha/Desktop/React/topdf/node_modules/puppeteer-core/src/api/locators/FunctionLocator.ts"],"sourcesContent":["/**\n * Copyright 2023 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Observable,\n  defer,\n  from,\n  throwIfEmpty,\n} from '../../../third_party/rxjs/rxjs.js';\nimport {Awaitable, HandleFor} from '../../common/types.js';\nimport {Frame} from '../Frame.js';\nimport {Page} from '../Page.js';\n\nimport {ActionOptions, Locator} from './locators.js';\n\n/**\n * @internal\n */\nexport class FunctionLocator<T> extends Locator<T> {\n  static create<Ret>(\n    pageOrFrame: Page | Frame,\n    func: () => Awaitable<Ret>\n  ): Locator<Ret> {\n    return new FunctionLocator<Ret>(pageOrFrame, func).setTimeout(\n      'getDefaultTimeout' in pageOrFrame\n        ? pageOrFrame.getDefaultTimeout()\n        : pageOrFrame.page().getDefaultTimeout()\n    );\n  }\n\n  #pageOrFrame: Page | Frame;\n  #func: () => Awaitable<T>;\n\n  private constructor(pageOrFrame: Page | Frame, func: () => Awaitable<T>) {\n    super();\n\n    this.#pageOrFrame = pageOrFrame;\n    this.#func = func;\n  }\n\n  override _clone(): FunctionLocator<T> {\n    return new FunctionLocator(this.#pageOrFrame, this.#func);\n  }\n\n  _wait(options?: Readonly<ActionOptions>): Observable<HandleFor<T>> {\n    const signal = options?.signal;\n    return defer(() => {\n      return from(\n        this.#pageOrFrame.waitForFunction(this.#func, {\n          timeout: this.timeout,\n          signal,\n        })\n      );\n    }).pipe(throwIfEmpty());\n  }\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;AAgBA,SAEEA,KAAK,EACLC,IAAI,EACJC,YAAY,QACP,mCAAmC;AAK1C,SAAuBC,OAAO,QAAO,eAAe;AAEpD;;;AAGA,OAAM,MAAOC,eAAmB,SAAQD,OAAU;EAChD,OAAOE,MAAMA,CACXC,WAAyB,EACzBC,IAA0B;IAE1B,OAAO,IAAIH,eAAe,CAAME,WAAW,EAAEC,IAAI,CAAC,CAACC,UAAU,CAC3D,mBAAmB,IAAIF,WAAW,GAC9BA,WAAW,CAACG,iBAAiB,EAAE,GAC/BH,WAAW,CAACI,IAAI,EAAE,CAACD,iBAAiB,EAAE,CAC3C;EACH;EAEA,CAAAH,WAAY;EACZ,CAAAC,IAAK;EAELI,YAAoBL,WAAyB,EAAEC,IAAwB;IACrE,KAAK,EAAE;IAEP,IAAI,CAAC,CAAAD,WAAY,GAAGA,WAAW;IAC/B,IAAI,CAAC,CAAAC,IAAK,GAAGA,IAAI;EACnB;EAESK,MAAMA,CAAA;IACb,OAAO,IAAIR,eAAe,CAAC,IAAI,CAAC,CAAAE,WAAY,EAAE,IAAI,CAAC,CAAAC,IAAK,CAAC;EAC3D;EAEAM,KAAKA,CAACC,OAAiC;IACrC,MAAMC,MAAM,GAAGD,OAAO,EAAEC,MAAM;IAC9B,OAAOf,KAAK,CAAC,MAAK;MAChB,OAAOC,IAAI,CACT,IAAI,CAAC,CAAAK,WAAY,CAACU,eAAe,CAAC,IAAI,CAAC,CAAAT,IAAK,EAAE;QAC5CU,OAAO,EAAE,IAAI,CAACA,OAAO;QACrBF;OACD,CAAC,CACH;IACH,CAAC,CAAC,CAACG,IAAI,CAAChB,YAAY,EAAE,CAAC;EACzB"},"metadata":{},"sourceType":"module","externalDependencies":[]}