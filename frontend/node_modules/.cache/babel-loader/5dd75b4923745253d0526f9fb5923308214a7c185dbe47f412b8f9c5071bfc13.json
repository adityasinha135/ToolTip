{"ast":null,"code":"/**\n * Copyright 2017 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { existsSync } from 'fs';\nimport { tmpdir } from 'os';\nimport { join } from 'path';\nimport { Browser as InstalledBrowser, CDP_WEBSOCKET_ENDPOINT_REGEX, launch, TimeoutError as BrowsersTimeoutError, WEBDRIVER_BIDI_WEBSOCKET_ENDPOINT_REGEX, computeExecutablePath } from '@puppeteer/browsers';\nimport { CDPBrowser } from '../common/Browser.js';\nimport { Connection } from '../common/Connection.js';\nimport { TimeoutError } from '../common/Errors.js';\nimport { NodeWebSocketTransport as WebSocketTransport } from '../common/NodeWebSocketTransport.js';\nimport { debugError } from '../common/util.js';\nimport { PipeTransport } from './PipeTransport.js';\n/**\n * Describes a launcher - a class that is able to create and launch a browser instance.\n *\n * @public\n */\nexport class ProductLauncher {\n  #product;\n  /**\n   * @internal\n   */\n  puppeteer;\n  /**\n   * @internal\n   */\n  actualBrowserRevision;\n  /**\n   * @internal\n   */\n  constructor(puppeteer, product) {\n    this.puppeteer = puppeteer;\n    this.#product = product;\n  }\n  get product() {\n    return this.#product;\n  }\n  async launch(options = {}) {\n    const {\n      dumpio = false,\n      env = process.env,\n      handleSIGINT = true,\n      handleSIGTERM = true,\n      handleSIGHUP = true,\n      ignoreHTTPSErrors = false,\n      defaultViewport = {\n        width: 800,\n        height: 600\n      },\n      slowMo = 0,\n      timeout = 30000,\n      waitForInitialPage = true,\n      protocol,\n      protocolTimeout\n    } = options;\n    const launchArgs = await this.computeLaunchArguments(options);\n    const usePipe = launchArgs.args.includes('--remote-debugging-pipe');\n    const onProcessExit = async () => {\n      await this.cleanUserDataDir(launchArgs.userDataDir, {\n        isTemp: launchArgs.isTempUserDataDir\n      });\n    };\n    const browserProcess = launch({\n      executablePath: launchArgs.executablePath,\n      args: launchArgs.args,\n      handleSIGHUP,\n      handleSIGTERM,\n      handleSIGINT,\n      dumpio,\n      env,\n      pipe: usePipe,\n      onExit: onProcessExit\n    });\n    let browser;\n    let connection;\n    let closing = false;\n    const browserCloseCallback = async () => {\n      if (closing) {\n        return;\n      }\n      closing = true;\n      await this.closeBrowser(browserProcess, connection);\n    };\n    try {\n      if (this.#product === 'firefox' && protocol === 'webDriverBiDi') {\n        browser = await this.createBiDiBrowser(browserProcess, browserCloseCallback, {\n          timeout,\n          protocolTimeout,\n          slowMo,\n          defaultViewport,\n          ignoreHTTPSErrors\n        });\n      } else {\n        if (usePipe) {\n          connection = await this.createCDPPipeConnection(browserProcess, {\n            timeout,\n            protocolTimeout,\n            slowMo\n          });\n        } else {\n          connection = await this.createCDPSocketConnection(browserProcess, {\n            timeout,\n            protocolTimeout,\n            slowMo\n          });\n        }\n        if (protocol === 'webDriverBiDi') {\n          browser = await this.createBiDiOverCDPBrowser(browserProcess, connection, browserCloseCallback, {\n            timeout,\n            protocolTimeout,\n            slowMo,\n            defaultViewport,\n            ignoreHTTPSErrors\n          });\n        } else {\n          browser = await CDPBrowser._create(this.product, connection, [], ignoreHTTPSErrors, defaultViewport, browserProcess.nodeProcess, browserCloseCallback, options.targetFilter);\n        }\n      }\n    } catch (error) {\n      void browserCloseCallback();\n      if (error instanceof BrowsersTimeoutError) {\n        throw new TimeoutError(error.message);\n      }\n      throw error;\n    }\n    if (waitForInitialPage && protocol !== 'webDriverBiDi') {\n      await this.waitForPageTarget(browser, timeout);\n    }\n    return browser;\n  }\n  executablePath() {\n    throw new Error('Not implemented');\n  }\n  defaultArgs() {\n    throw new Error('Not implemented');\n  }\n  /**\n   * Set only for Firefox, after the launcher resolves the `latest` revision to\n   * the actual revision.\n   * @internal\n   */\n  getActualBrowserRevision() {\n    return this.actualBrowserRevision;\n  }\n  async computeLaunchArguments() {\n    throw new Error('Not implemented');\n  }\n  async cleanUserDataDir() {\n    throw new Error('Not implemented');\n  }\n  /**\n   * @internal\n   */\n  async closeBrowser(browserProcess, connection) {\n    if (connection) {\n      // Attempt to close the browser gracefully\n      try {\n        await connection.closeBrowser();\n        await browserProcess.hasClosed();\n      } catch (error) {\n        debugError(error);\n        await browserProcess.close();\n      }\n    } else {\n      await browserProcess.close();\n    }\n  }\n  /**\n   * @internal\n   */\n  async waitForPageTarget(browser, timeout) {\n    try {\n      await browser.waitForTarget(t => {\n        return t.type() === 'page';\n      }, {\n        timeout\n      });\n    } catch (error) {\n      await browser.close();\n      throw error;\n    }\n  }\n  /**\n   * @internal\n   */\n  async createCDPSocketConnection(browserProcess, opts) {\n    const browserWSEndpoint = await browserProcess.waitForLineOutput(CDP_WEBSOCKET_ENDPOINT_REGEX, opts.timeout);\n    const transport = await WebSocketTransport.create(browserWSEndpoint);\n    return new Connection(browserWSEndpoint, transport, opts.slowMo, opts.protocolTimeout);\n  }\n  /**\n   * @internal\n   */\n  async createCDPPipeConnection(browserProcess, opts) {\n    // stdio was assigned during start(), and the 'pipe' option there adds the\n    // 4th and 5th items to stdio array\n    const {\n      3: pipeWrite,\n      4: pipeRead\n    } = browserProcess.nodeProcess.stdio;\n    const transport = new PipeTransport(pipeWrite, pipeRead);\n    return new Connection('', transport, opts.slowMo, opts.protocolTimeout);\n  }\n  /**\n   * @internal\n   */\n  async createBiDiOverCDPBrowser(browserProcess, connection, closeCallback, opts) {\n    // TODO: use other options too.\n    const BiDi = await import( /* webpackIgnore: true */'../common/bidi/bidi.js');\n    const bidiConnection = await BiDi.connectBidiOverCDP(connection);\n    return await BiDi.Browser.create({\n      connection: bidiConnection,\n      closeCallback,\n      process: browserProcess.nodeProcess,\n      defaultViewport: opts.defaultViewport,\n      ignoreHTTPSErrors: opts.ignoreHTTPSErrors\n    });\n  }\n  /**\n   * @internal\n   */\n  async createBiDiBrowser(browserProcess, closeCallback, opts) {\n    const browserWSEndpoint = (await browserProcess.waitForLineOutput(WEBDRIVER_BIDI_WEBSOCKET_ENDPOINT_REGEX, opts.timeout)) + '/session';\n    const transport = await WebSocketTransport.create(browserWSEndpoint);\n    const BiDi = await import( /* webpackIgnore: true */'../common/bidi/bidi.js');\n    const bidiConnection = new BiDi.Connection(browserWSEndpoint, transport, opts.slowMo, opts.protocolTimeout);\n    // TODO: use other options too.\n    return await BiDi.Browser.create({\n      connection: bidiConnection,\n      closeCallback,\n      process: browserProcess.nodeProcess,\n      defaultViewport: opts.defaultViewport,\n      ignoreHTTPSErrors: opts.ignoreHTTPSErrors\n    });\n  }\n  /**\n   * @internal\n   */\n  getProfilePath() {\n    return join(this.puppeteer.configuration.temporaryDirectory ?? tmpdir(), `puppeteer_dev_${this.product}_profile-`);\n  }\n  /**\n   * @internal\n   */\n  resolveExecutablePath() {\n    let executablePath = this.puppeteer.configuration.executablePath;\n    if (executablePath) {\n      if (!existsSync(executablePath)) {\n        throw new Error(`Tried to find the browser at the configured path (${executablePath}), but no executable was found.`);\n      }\n      return executablePath;\n    }\n    function productToBrowser(product) {\n      switch (product) {\n        case 'chrome':\n          return InstalledBrowser.CHROME;\n        case 'firefox':\n          return InstalledBrowser.FIREFOX;\n      }\n      return InstalledBrowser.CHROME;\n    }\n    executablePath = computeExecutablePath({\n      cacheDir: this.puppeteer.defaultDownloadPath,\n      browser: productToBrowser(this.product),\n      buildId: this.puppeteer.browserRevision\n    });\n    if (!existsSync(executablePath)) {\n      if (this.puppeteer.configuration.browserRevision) {\n        throw new Error(`Tried to find the browser at the configured path (${executablePath}) for revision ${this.puppeteer.browserRevision}, but no executable was found.`);\n      }\n      switch (this.product) {\n        case 'chrome':\n          throw new Error(`Could not find Chrome (ver. ${this.puppeteer.browserRevision}). This can occur if either\\n` + ' 1. you did not perform an installation before running the script (e.g. `npm install`) or\\n' + ` 2. your cache path is incorrectly configured (which is: ${this.puppeteer.configuration.cacheDirectory}).\\n` + 'For (2), check out our guide on configuring puppeteer at https://pptr.dev/guides/configuration.');\n        case 'firefox':\n          throw new Error(`Could not find Firefox (rev. ${this.puppeteer.browserRevision}). This can occur if either\\n` + ' 1. you did not perform an installation for Firefox before running the script (e.g. `PUPPETEER_PRODUCT=firefox npm install`) or\\n' + ` 2. your cache path is incorrectly configured (which is: ${this.puppeteer.configuration.cacheDirectory}).\\n` + 'For (2), check out our guide on configuring puppeteer at https://pptr.dev/guides/configuration.');\n      }\n    }\n    return executablePath;\n  }\n}","map":{"version":3,"names":["existsSync","tmpdir","join","Browser","InstalledBrowser","CDP_WEBSOCKET_ENDPOINT_REGEX","launch","TimeoutError","BrowsersTimeoutError","WEBDRIVER_BIDI_WEBSOCKET_ENDPOINT_REGEX","computeExecutablePath","CDPBrowser","Connection","NodeWebSocketTransport","WebSocketTransport","debugError","PipeTransport","ProductLauncher","product","puppeteer","actualBrowserRevision","constructor","options","dumpio","env","process","handleSIGINT","handleSIGTERM","handleSIGHUP","ignoreHTTPSErrors","defaultViewport","width","height","slowMo","timeout","waitForInitialPage","protocol","protocolTimeout","launchArgs","computeLaunchArguments","usePipe","args","includes","onProcessExit","cleanUserDataDir","userDataDir","isTemp","isTempUserDataDir","browserProcess","executablePath","pipe","onExit","browser","connection","closing","browserCloseCallback","closeBrowser","createBiDiBrowser","createCDPPipeConnection","createCDPSocketConnection","createBiDiOverCDPBrowser","_create","nodeProcess","targetFilter","error","message","waitForPageTarget","Error","defaultArgs","getActualBrowserRevision","hasClosed","close","waitForTarget","t","type","opts","browserWSEndpoint","waitForLineOutput","transport","create","pipeWrite","pipeRead","stdio","closeCallback","BiDi","bidiConnection","connectBidiOverCDP","getProfilePath","configuration","temporaryDirectory","resolveExecutablePath","productToBrowser","CHROME","FIREFOX","cacheDir","defaultDownloadPath","buildId","browserRevision","cacheDirectory"],"sources":["/home/adityasinha/Desktop/React/topdf/node_modules/puppeteer-core/src/node/ProductLauncher.ts"],"sourcesContent":["/**\n * Copyright 2017 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {existsSync} from 'fs';\nimport {tmpdir} from 'os';\nimport {join} from 'path';\n\nimport {\n  Browser as InstalledBrowser,\n  CDP_WEBSOCKET_ENDPOINT_REGEX,\n  launch,\n  TimeoutError as BrowsersTimeoutError,\n  WEBDRIVER_BIDI_WEBSOCKET_ENDPOINT_REGEX,\n  computeExecutablePath,\n} from '@puppeteer/browsers';\n\nimport {Browser, BrowserCloseCallback} from '../api/Browser.js';\nimport {CDPBrowser} from '../common/Browser.js';\nimport {Connection} from '../common/Connection.js';\nimport {TimeoutError} from '../common/Errors.js';\nimport {NodeWebSocketTransport as WebSocketTransport} from '../common/NodeWebSocketTransport.js';\nimport {Product} from '../common/Product.js';\nimport {Viewport} from '../common/PuppeteerViewport.js';\nimport {debugError} from '../common/util.js';\n\nimport {\n  BrowserLaunchArgumentOptions,\n  ChromeReleaseChannel,\n  PuppeteerNodeLaunchOptions,\n} from './LaunchOptions.js';\nimport {PipeTransport} from './PipeTransport.js';\nimport {PuppeteerNode} from './PuppeteerNode.js';\n\n/**\n * @internal\n */\nexport interface ResolvedLaunchArgs {\n  isTempUserDataDir: boolean;\n  userDataDir: string;\n  executablePath: string;\n  args: string[];\n}\n\n/**\n * Describes a launcher - a class that is able to create and launch a browser instance.\n *\n * @public\n */\nexport class ProductLauncher {\n  #product: Product;\n\n  /**\n   * @internal\n   */\n  puppeteer: PuppeteerNode;\n\n  /**\n   * @internal\n   */\n  protected actualBrowserRevision?: string;\n\n  /**\n   * @internal\n   */\n  constructor(puppeteer: PuppeteerNode, product: Product) {\n    this.puppeteer = puppeteer;\n    this.#product = product;\n  }\n\n  get product(): Product {\n    return this.#product;\n  }\n\n  async launch(options: PuppeteerNodeLaunchOptions = {}): Promise<Browser> {\n    const {\n      dumpio = false,\n      env = process.env,\n      handleSIGINT = true,\n      handleSIGTERM = true,\n      handleSIGHUP = true,\n      ignoreHTTPSErrors = false,\n      defaultViewport = {width: 800, height: 600},\n      slowMo = 0,\n      timeout = 30000,\n      waitForInitialPage = true,\n      protocol,\n      protocolTimeout,\n    } = options;\n\n    const launchArgs = await this.computeLaunchArguments(options);\n\n    const usePipe = launchArgs.args.includes('--remote-debugging-pipe');\n\n    const onProcessExit = async () => {\n      await this.cleanUserDataDir(launchArgs.userDataDir, {\n        isTemp: launchArgs.isTempUserDataDir,\n      });\n    };\n\n    const browserProcess = launch({\n      executablePath: launchArgs.executablePath,\n      args: launchArgs.args,\n      handleSIGHUP,\n      handleSIGTERM,\n      handleSIGINT,\n      dumpio,\n      env,\n      pipe: usePipe,\n      onExit: onProcessExit,\n    });\n\n    let browser: Browser;\n    let connection: Connection;\n    let closing = false;\n\n    const browserCloseCallback = async () => {\n      if (closing) {\n        return;\n      }\n      closing = true;\n      await this.closeBrowser(browserProcess, connection);\n    };\n\n    try {\n      if (this.#product === 'firefox' && protocol === 'webDriverBiDi') {\n        browser = await this.createBiDiBrowser(\n          browserProcess,\n          browserCloseCallback,\n          {\n            timeout,\n            protocolTimeout,\n            slowMo,\n            defaultViewport,\n            ignoreHTTPSErrors,\n          }\n        );\n      } else {\n        if (usePipe) {\n          connection = await this.createCDPPipeConnection(browserProcess, {\n            timeout,\n            protocolTimeout,\n            slowMo,\n          });\n        } else {\n          connection = await this.createCDPSocketConnection(browserProcess, {\n            timeout,\n            protocolTimeout,\n            slowMo,\n          });\n        }\n        if (protocol === 'webDriverBiDi') {\n          browser = await this.createBiDiOverCDPBrowser(\n            browserProcess,\n            connection,\n            browserCloseCallback,\n            {\n              timeout,\n              protocolTimeout,\n              slowMo,\n              defaultViewport,\n              ignoreHTTPSErrors,\n            }\n          );\n        } else {\n          browser = await CDPBrowser._create(\n            this.product,\n            connection,\n            [],\n            ignoreHTTPSErrors,\n            defaultViewport,\n            browserProcess.nodeProcess,\n            browserCloseCallback,\n            options.targetFilter\n          );\n        }\n      }\n    } catch (error) {\n      void browserCloseCallback();\n      if (error instanceof BrowsersTimeoutError) {\n        throw new TimeoutError(error.message);\n      }\n      throw error;\n    }\n\n    if (waitForInitialPage && protocol !== 'webDriverBiDi') {\n      await this.waitForPageTarget(browser, timeout);\n    }\n\n    return browser;\n  }\n\n  executablePath(channel?: ChromeReleaseChannel): string;\n  executablePath(): string {\n    throw new Error('Not implemented');\n  }\n\n  defaultArgs(object: BrowserLaunchArgumentOptions): string[];\n  defaultArgs(): string[] {\n    throw new Error('Not implemented');\n  }\n\n  /**\n   * Set only for Firefox, after the launcher resolves the `latest` revision to\n   * the actual revision.\n   * @internal\n   */\n  getActualBrowserRevision(): string | undefined {\n    return this.actualBrowserRevision;\n  }\n\n  /**\n   * @internal\n   */\n  protected async computeLaunchArguments(\n    options: PuppeteerNodeLaunchOptions\n  ): Promise<ResolvedLaunchArgs>;\n  protected async computeLaunchArguments(): Promise<ResolvedLaunchArgs> {\n    throw new Error('Not implemented');\n  }\n\n  /**\n   * @internal\n   */\n  protected async cleanUserDataDir(\n    path: string,\n    opts: {isTemp: boolean}\n  ): Promise<void>;\n  protected async cleanUserDataDir(): Promise<void> {\n    throw new Error('Not implemented');\n  }\n\n  /**\n   * @internal\n   */\n  protected async closeBrowser(\n    browserProcess: ReturnType<typeof launch>,\n    connection?: Connection\n  ): Promise<void> {\n    if (connection) {\n      // Attempt to close the browser gracefully\n      try {\n        await connection.closeBrowser();\n        await browserProcess.hasClosed();\n      } catch (error) {\n        debugError(error);\n        await browserProcess.close();\n      }\n    } else {\n      await browserProcess.close();\n    }\n  }\n\n  /**\n   * @internal\n   */\n  protected async waitForPageTarget(\n    browser: Browser,\n    timeout: number\n  ): Promise<void> {\n    try {\n      await browser.waitForTarget(\n        t => {\n          return t.type() === 'page';\n        },\n        {timeout}\n      );\n    } catch (error) {\n      await browser.close();\n      throw error;\n    }\n  }\n\n  /**\n   * @internal\n   */\n  protected async createCDPSocketConnection(\n    browserProcess: ReturnType<typeof launch>,\n    opts: {timeout: number; protocolTimeout: number | undefined; slowMo: number}\n  ): Promise<Connection> {\n    const browserWSEndpoint = await browserProcess.waitForLineOutput(\n      CDP_WEBSOCKET_ENDPOINT_REGEX,\n      opts.timeout\n    );\n    const transport = await WebSocketTransport.create(browserWSEndpoint);\n    return new Connection(\n      browserWSEndpoint,\n      transport,\n      opts.slowMo,\n      opts.protocolTimeout\n    );\n  }\n\n  /**\n   * @internal\n   */\n  protected async createCDPPipeConnection(\n    browserProcess: ReturnType<typeof launch>,\n    opts: {timeout: number; protocolTimeout: number | undefined; slowMo: number}\n  ): Promise<Connection> {\n    // stdio was assigned during start(), and the 'pipe' option there adds the\n    // 4th and 5th items to stdio array\n    const {3: pipeWrite, 4: pipeRead} = browserProcess.nodeProcess.stdio;\n    const transport = new PipeTransport(\n      pipeWrite as NodeJS.WritableStream,\n      pipeRead as NodeJS.ReadableStream\n    );\n    return new Connection('', transport, opts.slowMo, opts.protocolTimeout);\n  }\n\n  /**\n   * @internal\n   */\n  protected async createBiDiOverCDPBrowser(\n    browserProcess: ReturnType<typeof launch>,\n    connection: Connection,\n    closeCallback: BrowserCloseCallback,\n    opts: {\n      timeout: number;\n      protocolTimeout: number | undefined;\n      slowMo: number;\n      defaultViewport: Viewport | null;\n      ignoreHTTPSErrors?: boolean;\n    }\n  ): Promise<Browser> {\n    // TODO: use other options too.\n    const BiDi = await import(\n      /* webpackIgnore: true */ '../common/bidi/bidi.js'\n    );\n    const bidiConnection = await BiDi.connectBidiOverCDP(connection);\n    return await BiDi.Browser.create({\n      connection: bidiConnection,\n      closeCallback,\n      process: browserProcess.nodeProcess,\n      defaultViewport: opts.defaultViewport,\n      ignoreHTTPSErrors: opts.ignoreHTTPSErrors,\n    });\n  }\n\n  /**\n   * @internal\n   */\n  protected async createBiDiBrowser(\n    browserProcess: ReturnType<typeof launch>,\n    closeCallback: BrowserCloseCallback,\n    opts: {\n      timeout: number;\n      protocolTimeout: number | undefined;\n      slowMo: number;\n      defaultViewport: Viewport | null;\n      ignoreHTTPSErrors?: boolean;\n    }\n  ): Promise<Browser> {\n    const browserWSEndpoint =\n      (await browserProcess.waitForLineOutput(\n        WEBDRIVER_BIDI_WEBSOCKET_ENDPOINT_REGEX,\n        opts.timeout\n      )) + '/session';\n    const transport = await WebSocketTransport.create(browserWSEndpoint);\n    const BiDi = await import(\n      /* webpackIgnore: true */ '../common/bidi/bidi.js'\n    );\n    const bidiConnection = new BiDi.Connection(\n      browserWSEndpoint,\n      transport,\n      opts.slowMo,\n      opts.protocolTimeout\n    );\n    // TODO: use other options too.\n    return await BiDi.Browser.create({\n      connection: bidiConnection,\n      closeCallback,\n      process: browserProcess.nodeProcess,\n      defaultViewport: opts.defaultViewport,\n      ignoreHTTPSErrors: opts.ignoreHTTPSErrors,\n    });\n  }\n\n  /**\n   * @internal\n   */\n  protected getProfilePath(): string {\n    return join(\n      this.puppeteer.configuration.temporaryDirectory ?? tmpdir(),\n      `puppeteer_dev_${this.product}_profile-`\n    );\n  }\n\n  /**\n   * @internal\n   */\n  protected resolveExecutablePath(): string {\n    let executablePath = this.puppeteer.configuration.executablePath;\n    if (executablePath) {\n      if (!existsSync(executablePath)) {\n        throw new Error(\n          `Tried to find the browser at the configured path (${executablePath}), but no executable was found.`\n        );\n      }\n      return executablePath;\n    }\n\n    function productToBrowser(product?: Product) {\n      switch (product) {\n        case 'chrome':\n          return InstalledBrowser.CHROME;\n        case 'firefox':\n          return InstalledBrowser.FIREFOX;\n      }\n      return InstalledBrowser.CHROME;\n    }\n\n    executablePath = computeExecutablePath({\n      cacheDir: this.puppeteer.defaultDownloadPath!,\n      browser: productToBrowser(this.product),\n      buildId: this.puppeteer.browserRevision,\n    });\n\n    if (!existsSync(executablePath)) {\n      if (this.puppeteer.configuration.browserRevision) {\n        throw new Error(\n          `Tried to find the browser at the configured path (${executablePath}) for revision ${this.puppeteer.browserRevision}, but no executable was found.`\n        );\n      }\n      switch (this.product) {\n        case 'chrome':\n          throw new Error(\n            `Could not find Chrome (ver. ${this.puppeteer.browserRevision}). This can occur if either\\n` +\n              ' 1. you did not perform an installation before running the script (e.g. `npm install`) or\\n' +\n              ` 2. your cache path is incorrectly configured (which is: ${this.puppeteer.configuration.cacheDirectory}).\\n` +\n              'For (2), check out our guide on configuring puppeteer at https://pptr.dev/guides/configuration.'\n          );\n        case 'firefox':\n          throw new Error(\n            `Could not find Firefox (rev. ${this.puppeteer.browserRevision}). This can occur if either\\n` +\n              ' 1. you did not perform an installation for Firefox before running the script (e.g. `PUPPETEER_PRODUCT=firefox npm install`) or\\n' +\n              ` 2. your cache path is incorrectly configured (which is: ${this.puppeteer.configuration.cacheDirectory}).\\n` +\n              'For (2), check out our guide on configuring puppeteer at https://pptr.dev/guides/configuration.'\n          );\n      }\n    }\n    return executablePath;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}