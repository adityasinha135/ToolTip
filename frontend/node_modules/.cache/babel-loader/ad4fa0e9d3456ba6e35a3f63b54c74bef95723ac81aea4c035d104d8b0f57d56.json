{"ast":null,"code":"/**\n * Copyright 2023 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { race } from '../../../third_party/rxjs/rxjs.js';\nimport { Locator } from './locators.js';\nfunction checkLocatorArray(locators) {\n  for (const locator of locators) {\n    if (!(locator instanceof Locator)) {\n      throw new Error('Unknown locator for race candidate');\n    }\n  }\n  return locators;\n}\n/**\n * @internal\n */\nexport class RaceLocator extends Locator {\n  static create(locators) {\n    const array = checkLocatorArray(locators);\n    return new RaceLocator(array);\n  }\n  #locators;\n  constructor(locators) {\n    super();\n    this.#locators = locators;\n  }\n  _clone() {\n    return new RaceLocator(this.#locators.map(locator => {\n      return locator.clone();\n    })).copyOptions(this);\n  }\n  _wait(options) {\n    return race(...this.#locators.map(locator => {\n      return locator._wait(options);\n    }));\n  }\n}","map":{"version":3,"names":["race","Locator","checkLocatorArray","locators","locator","Error","RaceLocator","create","array","constructor","_clone","map","clone","copyOptions","_wait","options"],"sources":["/home/adityasinha/Desktop/React/topdf/node_modules/puppeteer-core/src/api/locators/RaceLocator.ts"],"sourcesContent":["/**\n * Copyright 2023 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Observable, race} from '../../../third_party/rxjs/rxjs.js';\nimport {HandleFor} from '../../puppeteer-core.js';\n\nimport {ActionOptions, Locator} from './locators.js';\n\n/**\n * @public\n */\nexport type AwaitedLocator<T> = T extends Locator<infer S> ? S : never;\n\nfunction checkLocatorArray<T extends readonly unknown[] | []>(\n  locators: T\n): ReadonlyArray<Locator<AwaitedLocator<T[number]>>> {\n  for (const locator of locators) {\n    if (!(locator instanceof Locator)) {\n      throw new Error('Unknown locator for race candidate');\n    }\n  }\n  return locators as ReadonlyArray<Locator<AwaitedLocator<T[number]>>>;\n}\n\n/**\n * @internal\n */\nexport class RaceLocator<T> extends Locator<T> {\n  static create<T extends readonly unknown[]>(\n    locators: T\n  ): Locator<AwaitedLocator<T[number]>> {\n    const array = checkLocatorArray(locators);\n    return new RaceLocator(array);\n  }\n\n  #locators: ReadonlyArray<Locator<T>>;\n\n  constructor(locators: ReadonlyArray<Locator<T>>) {\n    super();\n    this.#locators = locators;\n  }\n\n  override _clone(): RaceLocator<T> {\n    return new RaceLocator<T>(\n      this.#locators.map(locator => {\n        return locator.clone();\n      })\n    ).copyOptions(this);\n  }\n\n  override _wait(options?: Readonly<ActionOptions>): Observable<HandleFor<T>> {\n    return race(\n      ...this.#locators.map(locator => {\n        return locator._wait(options);\n      })\n    );\n  }\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;AAgBA,SAAoBA,IAAI,QAAO,mCAAmC;AAGlE,SAAuBC,OAAO,QAAO,eAAe;AAOpD,SAASC,iBAAiBA,CACxBC,QAAW;EAEX,KAAK,MAAMC,OAAO,IAAID,QAAQ,EAAE;IAC9B,IAAI,EAAEC,OAAO,YAAYH,OAAO,CAAC,EAAE;MACjC,MAAM,IAAII,KAAK,CAAC,oCAAoC,CAAC;;;EAGzD,OAAOF,QAA6D;AACtE;AAEA;;;AAGA,OAAM,MAAOG,WAAe,SAAQL,OAAU;EAC5C,OAAOM,MAAMA,CACXJ,QAAW;IAEX,MAAMK,KAAK,GAAGN,iBAAiB,CAACC,QAAQ,CAAC;IACzC,OAAO,IAAIG,WAAW,CAACE,KAAK,CAAC;EAC/B;EAEA,CAAAL,QAAS;EAETM,YAAYN,QAAmC;IAC7C,KAAK,EAAE;IACP,IAAI,CAAC,CAAAA,QAAS,GAAGA,QAAQ;EAC3B;EAESO,MAAMA,CAAA;IACb,OAAO,IAAIJ,WAAW,CACpB,IAAI,CAAC,CAAAH,QAAS,CAACQ,GAAG,CAACP,OAAO,IAAG;MAC3B,OAAOA,OAAO,CAACQ,KAAK,EAAE;IACxB,CAAC,CAAC,CACH,CAACC,WAAW,CAAC,IAAI,CAAC;EACrB;EAESC,KAAKA,CAACC,OAAiC;IAC9C,OAAOf,IAAI,CACT,GAAG,IAAI,CAAC,CAAAG,QAAS,CAACQ,GAAG,CAACP,OAAO,IAAG;MAC9B,OAAOA,OAAO,CAACU,KAAK,CAACC,OAAO,CAAC;IAC/B,CAAC,CAAC,CACH;EACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}